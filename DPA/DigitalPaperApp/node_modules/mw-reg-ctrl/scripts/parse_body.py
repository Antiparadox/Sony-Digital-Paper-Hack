from mitmproxy.models import decoded

def request(content, flow):
    print "----------------------------------------"
    # print "Request:"
    print str(flow.request)
    print "--------------------"
    print "Request header:"
    print repr(flow.request)
    for k in flow.request.headers:
        v = flow.request.headers[k]
        print "\t" + k + ": " + v
    print "--------------------"
    print "Request body:"
    print flow.request.body
    print "--------------------"
    # del flow.request.headers['Cookie'];
    
def response(content, flow):
    print "----------------------------------------"
    # print "Response:"
    print str(flow.response)
    print "--------------------"
    print "Response headers:"
    for k in flow.response.headers:
        v = flow.response.headers[k]
        print "\t" + k + ": " + v
    print "--------------------"
    print "Response body:"
    print flow.response.body
    print "--------------------"

    # print "Cook: " + flow.response.headers['Set-Cookie']

    # del flow.request.headers['Cookie'];

    # flow.response.headers['Set-Cookie'] = flow.response.headers['Set-Cookie'].replace('; Secure', '')

    # print "Cooked: " + flow.response.headers['Set-Cookie']


    
