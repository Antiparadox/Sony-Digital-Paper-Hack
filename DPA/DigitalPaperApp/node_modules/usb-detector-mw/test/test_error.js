process.env.DEBUG = "error,error:*";

'use strict';

var UsbDetector = require('../index.js');

const detector = new UsbDetector();

detector.find(0x054C, function (error, deviceArray) {
  if (error) {
    console.log('\nfind\n', error);
    return;
  }
  console.log('\nfind\n', deviceArray);
});

detector.count(0x054C, function (error, count) {
  if (error) {
    console.log('\ncount\n', error);
    return;
  }
  console.log('\ncount\n', count);
});

detector.stop(function (error) {
  if (error) {
    console.log('\nstop\n', error);
    return;
  }
  console.log('\nstop\n');
});




detector.start(0x054C, function (error, deviceArray) {
  if (error) {
    console.log('\nstart\n', error);
    return;
  }
  console.log('\nstart\n', deviceArray);
});

setTimeout(function () {
  detector.find(0x054C, function (error, deviceArray) {
    if (error) {
      console.log('\nfind\n', error);
      return;
    }
    console.log('\nfind\n', deviceArray);
  });

  detector.count(0x054C, function (error, count) {
    if (error) {
      console.log('\ncount\n', error);
      return;
    }
    console.log('\ncount\n', count);
  });

  detector.stop(function (error) {
    if (error) {
      console.log('\nstop\n', error);
      return;
    }
    console.log('\nstop\n');
  });
}, 10000);

