#!/bin/sh

MDNSJS='git+ssh://git@github.com/LinfinyJapan/dps_node-mdns-js-mw.git#add_ipv6_support'

NODE_PLATFORM=`node -p 'process.platform'`
# NODE_ARCH=`node -p 'process.arch'`
# ELECTRON_VERSION=1.2.5

if [ "$NODE_PLATFORM" == "darwin" ]; then
    echo '>>> For MacOSX'
    npm install mdns --save --product
elif [ "$NODE_PLATFORM" == "win32" ]; then
    echo '>>> For Windows'
    npm install ${MDNSJS} --save --product
else
    echo $NODE_PLATFORM not supported.
    exit 1
fi

# SYSTEM="$(expr substr $(uname -s) 1 4)"

# if [ ${SYSTEM} == 'MSYS' ] || [ ${SYSTEM} == "MING" ] || [ ${SYSTEM} == "CYGW" ]; then
#     echo '>>> For Windows'
#     npm install ${MDNSJS}
# else
#     echo '>>> For OTHER(MacOSX)'
#     npm install mdns
# fi
