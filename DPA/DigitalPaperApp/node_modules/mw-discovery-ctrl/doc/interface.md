<a name="module_mw-discovery-ctrl"></a>

## mw-discovery-ctrl

* [mw-discovery-ctrl](#module_mw-discovery-ctrl)
    * _static_
        * [.PHY_TYPE_USB](#module_mw-discovery-ctrl.PHY_TYPE_USB)
        * [.PHY_TYPE_OTHER](#module_mw-discovery-ctrl.PHY_TYPE_OTHER)
        * [.getDeviceList()](#module_mw-discovery-ctrl.getDeviceList) ⇒ <code>Array.&lt;{deviceId: string, name: string, phyType: PhyType, remoteIp: string, remotePort: number, localIp: string, info: Object}&gt;</code>
        * [.scanDevices(callback)](#module_mw-discovery-ctrl.scanDevices)
        * [.checkConnection(deviceId, callback)](#module_mw-discovery-ctrl.checkConnection)
        * [.on(eventName, listener)](#module_mw-discovery-ctrl.on)
        * [.once(eventName, listener)](#module_mw-discovery-ctrl.once)
        * [.removeListener(eventName, listener)](#module_mw-discovery-ctrl.removeListener)
        * [.close(callback)](#module_mw-discovery-ctrl.close)
    * _inner_
        * ["deviceAppear"](#event_deviceAppear)
        * ["deviceDisappear"](#event_deviceDisappear)
        * ["usbSerialConnected"](#event_usbSerialConnected)
        * ["usbSerialDisconnected"](#event_usbSerialDisconnected)
        * ["usbEtherConnected"](#event_usbEtherConnected)
        * ["usbEtherDisconnected"](#event_usbEtherDisconnected)
        * ["error"](#event_error)

<a name="module_mw-discovery-ctrl.PHY_TYPE_USB"></a>

### mw-discovery-ctrl.PHY_TYPE_USB
<p>Phyisical connection type that indicates Deneb direct USB-ether.
<br>
物理的な接続が、DenebのUSB-Ether直結であることを示す。</p>

**Kind**: static property of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
<a name="module_mw-discovery-ctrl.PHY_TYPE_OTHER"></a>

### mw-discovery-ctrl.PHY_TYPE_OTHER
<p>Phyisical connection type indicates other than above.
<br>
物理的な接続が、上記以外の方式であることを示す。</p>

**Kind**: static property of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
<a name="module_mw-discovery-ctrl.getDeviceList"></a>

### mw-discovery-ctrl.getDeviceList() ⇒ <code>Array.&lt;{deviceId: string, name: string, phyType: PhyType, remoteIp: string, remotePort: number, localIp: string, info: Object}&gt;</code>
<p>Gets the list of already scanned DPT devices.</p>
<p>現在スキャンできているデバイスのリストを取得する。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
**Returns**: <code>Array.&lt;{deviceId: string, name: string, phyType: PhyType, remoteIp: string, remotePort: number, localIp: string, info: Object}&gt;</code> - <p>The list of scanned devices. When remoteIp is IPv6 Link
  Local address, scope Id also be set. The type of return value is
  <code>Array.&lt;{deviceId: string, name: string, phyType: PhyType,
  remoteIp: string, remotePort: number, localIp: string, info:
  Object}&gt;</code>.
  <br>
  スキャンされているデバイスのリストを返す。remoteIpが、IPv6 Link
  Local Addressである場合には、スコープID付きのIPが返される。戻り値
  のTypeは、<code>Array.&lt;{deviceId: string, name: string, phyType:
  PhyType, remoteIp: string, remotePort: number, localIp: string,
  info: Object}&gt;</code>。 <code>deviceId</code>は、デバイスユニークなID。<code>name</code> は、
  デバイスのホスト名。<code>phyType</code>は、物理的な接続方式で、
  discovery.PHY_TYPE_USB か、discovery.PHY_TYPE_OTHER を返す。<code>info
  は、当該デバイスに対して、GET /register/informationを呼び出した際
  の戻り値のJSONをそのまま保持しているものとする。GET
  /register/informationで情報が取得できなかった場合には、</code>info<code>の値は</code>null`とする。</p>
<ul>
<li>例: <code>{ deviceId: &quot;9999999&quot;, name: &quot;MyDevice&quot;, phyType: 'USB',
remoteIp: '192.168.128.111', remotePort: '5000', info: {
sku_code: &quot;JP&quot;, device_color: &quot;#000000&quot; } }</code></li>
<li>例: <code>{ deviceId: &quot;8888888&quot;, name: &quot;Someones Device&quot;, phyType: 'USB',
remoteIp: '192.168.128.112', remotePort: '5000', info: null }</code></li>
</ul>  
<a name="module_mw-discovery-ctrl.scanDevices"></a>

### mw-discovery-ctrl.scanDevices(callback)
<p>Invoke active scanning process if available.
<br>
可能な場合、アクティブスキャンをトリガする。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| callback | <code>function</code> | <p>The callback to be called when   active scan done.   <br>   アクティブスキャンが完了したことを、受け取るCallback。</p> |

<a name="module_mw-discovery-ctrl.checkConnection"></a>

### mw-discovery-ctrl.checkConnection(deviceId, callback)
<p>Check connectivity between device.  When the app could not connect
to the device, this device entry will also removed from the list of
getDeviceList.
<br>
指定したデバイスとの接続を能動的にチェックする。チェックした結果、
対象デバイスと接続可能でない事が分かった場合には、getDeviceListで取
得できる一覧からも当該デバイスも消える。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| deviceId | <code>string</code> | <p>The deviceId of the device to be checked.   <br>   チェックするデバイスのdeviceId を指定する。</p> |
| callback | <code>function</code> | <p>The callback to be called when   check process done. When the device looks not connectable, a   Error object will be passed to first argument to callback.   <br><br>  チェック処理が完了したことを返すCallback。デバイスが接続できない   事が分かった場合には、Errorオブジェクトが第一引数に返る。</p> |

<a name="module_mw-discovery-ctrl.on"></a>

### mw-discovery-ctrl.on(eventName, listener)
<p>Adds a event listener function.
<br>
Eventのリスナーを追加する。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| eventName | <code>string</code> | <p>The name of event.   <br>   イベント名。</p> |
| listener | <code>function</code> | <p>The listener function to register.   <br>   登録する、リスナー関数。</p> |

<a name="module_mw-discovery-ctrl.once"></a>

### mw-discovery-ctrl.once(eventName, listener)
<p>Adds a one time event listener function.
<br>
一度だけ呼び出されるEventのリスナーを追加する。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| eventName | <code>string</code> | <p>The name of event.   <br>   イベント名。</p> |
| listener | <code>function</code> | <p>The listener function to register.   <br>   登録する、リスナー関数。</p> |

<a name="module_mw-discovery-ctrl.removeListener"></a>

### mw-discovery-ctrl.removeListener(eventName, listener)
<p>Removes the specified event listener.
<br>
指定したEventのリスナーを削除する。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| eventName | <code>string</code> | <p>The name of event.   <br>   イベント名。</p> |
| listener | <code>function</code> | <p>The listener function to remove.   <br>   登録解除する、リスナー関数。</p> |

<a name="module_mw-discovery-ctrl.close"></a>

### mw-discovery-ctrl.close(callback)
<p>Release system resource required for this module.  After this call
is called any function can not be called until process
shutdown. Call this function before shutdown.
<br>
このモジュールに必要なシステムリソースを解放する。この呼び出しの実
行後はいずれの関数呼び出しもできない。終了前に呼び出す必要がある。</p>

**Kind**: static method of <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  

| Param | Type | Description |
| --- | --- | --- |
| callback | <code>function</code> | <p>The callback to be called when   closing is done.   <br>   閉じる処理が完了したことを受け取るCallback。</p> |

<a name="event_deviceAppear"></a>

### "deviceAppear"
<p>Indicates a device found.  The object with deviceId will be passed.
The event will be passed per each connection. So, when the device
detected more than one connection. This event will emitted per
connection separatedly.
<br>
デバイスが、新しく検出されたことを示す。deviceId付きのオブジェクト
が渡される。このイベントは接続毎に送信される。あるデバイスが、複数
の接続で検出されている場合、このイベントは接続毎に独立して送信される。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
<a name="event_deviceDisappear"></a>

### "deviceDisappear"
<p>Indicates the device disappear is detected. The object with
deviceId will be passed. The event will be passed per each
connection. So, when the device detected more than one
connection. This event will emitted per connection separatedly.
<br>
デバイスが、見えなくなったことを検知した事を示すイベント。deviceId
付きのオブジェクトが渡される。このイベントは接続毎に送信される。あ
るデバイスが、複数の接続で検出されている場合、このイベントは接続毎
に独立して送信される。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
<a name="event_usbSerialConnected"></a>

### "usbSerialConnected"
<p>Indicates Deneb direct USB serial is detected. The deviceId will be
passed. This event is prepared only for showing progress of USB
initialization.
<br>
Deneb直結USBシリアルが検出されたことをを示す。deviceId が渡される。
USBの接続処理の進捗を表示する目的のためだけに用意されたイベント。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
**Note**: 状態経過表示以外の目的で、このイベントを利用するべきではない。  
<a name="event_usbSerialDisconnected"></a>

### "usbSerialDisconnected"
<p>Indicates Deneb direct USB serial is disconnected. The deviceId
will be passed. This event is prepared only for showing progress of USB
initialization.
<br>
Deneb直結USBシリアルの切断が検出されたことを示す。deviceId が渡される。
USBの接続処理の進捗を表示する目的のためだけに用意されたイベント。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
**Note**: 状態経過表示以外の目的で、このイベントを利用するべきではない。  
<a name="event_usbEtherConnected"></a>

### "usbEtherConnected"
<p>Indicates Deneb direct USB ether is detected. The deviceId will be
passed. This event is prepared only for showing progress of USB
initialization.
<br>
Deneb直結USB Etherが検出されたことをを示す。deviceId が渡される。
USBの接続処理の進捗を表示する目的のためだけに用意されたイベント。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
**Note**: 状態経過表示以外の目的で、このイベントを利用するべきではない。  
<a name="event_usbEtherDisconnected"></a>

### "usbEtherDisconnected"
<p>Indicates Deneb direct USB ether is disconnected. The deviceId
will be passed. This event is prepared only for showing progress of USB
initialization.
<br>
Deneb直結USB Etherの切断が検出されたことを示す。deviceId が渡される。
USBの接続処理の進捗を表示する目的のためだけに用意されたイベント。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
**Note**: 状態経過表示以外の目的で、このイベントを利用するべきではない。  
<a name="event_error"></a>

### "error"
<p>Indicates any error occured in or under discovery control.
<br>
いずれかのエラーがDiscovery Controlか、それより下で発生したことを通
知する。</p>

**Kind**: event emitted by <code>[mw-discovery-ctrl](#module_mw-discovery-ctrl)</code>  
